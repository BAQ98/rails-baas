<section class="w-full">
  <%= render 'kanbans/shared/kanban_head' do %>
    <%= render_dialog do %>
      <%= dialog_trigger do %>
        <%= render_button("+ Create Kanban", variant: :outline) do %>
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
            <path stroke-linecap="round" stroke-linejoin="round" d="M12 4.5v15m7.5-7.5h-15"/>
          </svg>
          <span>
            Create Kanban
          </span>
        <% end %>
      <% end %>
      <%= dialog_content do %>
        <div class="mx-auto w-full">
          <h1 class="mx-auto block uppercase tracking-wide text-gray-700 font-bold text-xl">
            Create new Kanban Project
          </h1>
          <%= render "form_kanban", kanban: @kanban %>
        </div>
      <% end %>
    <% end %>
  <% end %>

  <%= render "components/ui/notice" %>

  <% if @kanbans.empty? %>
    <div class="flex items-center max-w-lg mt-16   mx-auto p-4 mb-4 text-sm text-blue-800 border border-blue-300 rounded-lg bg-blue-50" role="alert">
      <svg class="flex-shrink-0 inline w-4 h-4 me-3" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 20 20">
        <path d="M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5ZM9.5 4a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3ZM12 15H8a1 1 0 0 1 0-2h1v-3H8a1 1 0 0 1 0-2h2a1 1 0 0 1 1 1v4h1a1 1 0 0 1 0 2Z"/>
      </svg>
      <span class="sr-only">Info</span>
      <div>
        <span class="font-medium">
          There is no project now
        </span>
      </div>
    </div>
  <% end %>

  <div class="mx-auto">

  </div>

  <div class="grid grid-cols-2 md:grid-cols-4 mx-32 mt-16 gap-4">
    <% @kanbans.each do |kanban| %>
      <div class="flex flex-col p-4 rounded-lg bg-white border shadow-sm rounded-xl justify-between min-h-[24 0px]">
        <div class="relative">
          <h3 class="text-2xl font-bold text-gray-800 ">
            <%= kanban.name %>
          </h3>
          <p class="mt-1 text-gray-500">
            <%= kanban.description %>
          </p>
          <span class="mt-1 text-gray-500 text-xs">
            Created by:
            <%= link_to "#{kanban.profile&.username.present? ? kanban.profile.username : kanban.profile&.auth&.email}", account_path(kanban.profile&.auth&.id), class: "font-medium text-blue-600 dark:text-blue-500 hover:underline" %>
          </span>
        </div>
        <div class=" flex justify-between">
          <%= link_to "Go to", kanban_path(kanban), class: "py-2 px-3 inline-flex justify-center items-center gap-x-2 text-sm font-semibold rounded-lg border border-transparent bg-blue-600 text-white hover:bg-blue-700 disabled:opacity-50 disabled:pointer-events-none" %>
          <div class="flex gap-2">
            <%= render "kanbans/shared/dialog_edit", kanban: kanban %>
            <%= render "kanbans/shared/dialog_delete", kanban: kanban %>
          </div>
        </div>
      </div>
    <% end %>
  </div>
</section>


